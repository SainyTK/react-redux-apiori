(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(46)},46:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),i=n.n(o),c=(n(34),n(1)),l=n(2),u=n(14),s=n(10),f=n(13),m=n(6);var p={toArrayTable:function(e){var t=[];return e.forEach(function(e){t.push(e.trim().split(" "))}),t}},h={SET_MIN_CON:"SET_MIN_CON",SET_MIN_SUP:"SET_MIN_SUP",SET_NUM_TRANS:"SET_NUM_TRANS",SET_TRANS_TABLE:"SET_TRANS_TABLE",SET_RULES:"SET_RULES",SET_FREQ_ITEMS:"SET_FREQ_ITEMS",setMinCon:function(e){return function(t){t({type:h.SET_MIN_CON,payload:e})}},setMinSup:function(e){return function(t){t({type:h.SET_MIN_SUP,payload:e})}},setNumTrans:function(e){return function(t){t({type:h.SET_NUM_TRANS,payload:e})}},setTransTable:function(e){return function(t){var n=p.toArrayTable(e);t({type:h.SET_TRANS_TABLE,payload:{transTable:n}})}},setFreqItems:function(e){return function(t){t({type:h.SET_FREQ_ITEMS,payload:{freqItems:e}})}},setRules:function(e){return function(t){t({type:h.SET_RULES,payload:{rules:e}})}}},d=h,E=n(11),S=n(12);function g(){var e=Object(E.a)(["\n    margin: 0px 10px;\n    width: 80%;\n    text-size: 11px;\n"]);return g=function(){return e},e}var v=S.a.div(g()),b=function(e){var t=e.rules;return a.a.createElement(v,null,a.a.createElement("h5",null,"Strong Association Rules"),a.a.createElement("p",null,"There are ",t.length," rules"),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"#"),a.a.createElement("th",{scope:"row"},"rules"),a.a.createElement("th",{scope:"row"},"confidents"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("th",{scope:"col"},t+1),a.a.createElement("td",null,"".concat(e.lhs," -> ").concat(e.rhs)),a.a.createElement("td",null,100*e.confidence))}))))};function y(){var e=Object(E.a)(["\n    margin: 0px 10px;\n    width: 80%;\n    text-size: 11px;\n"]);return y=function(){return e},e}var T=S.a.div(y()),w=function(e){var t=e.items;return a.a.createElement(T,null,a.a.createElement("h4",null,"Frequence Itemsets"),a.a.createElement("p",null,"There are ",t.length," frequence itemsets"),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"#"),a.a.createElement("th",{scope:"row"},"Items"),a.a.createElement("th",{scope:"row"},"Support"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("th",{scope:"col"},t+1),a.a.createElement("td",null,"".concat(e.itemSet.join(", "))),a.a.createElement("td",null,100*e.support))}))))},O=n(26),A=n.n(O),_=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={transTableString:[]},n.handleFocusOut=function(e){var t=e.target,r=t.name,a=t.value,o=n.state.transTableString;o[r]=a,n.props.setTransTable(o)},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.numTrans;return a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Transaction id"),a.a.createElement("th",null,"item set"))),a.a.createElement("tbody",null,this.renderRows(e)))}},{key:"renderRows",value:function(e){var t=this;return A.a.range(e).map(function(e,n){return a.a.createElement("tr",{key:n},a.a.createElement("td",null,n+1),a.a.createElement("td",null,a.a.createElement("input",{name:n,type:"text",onBlur:t.handleFocusOut})))})}}]),t}(r.Component),N=Object(m.b)(function(e){return e.App},d)(_),j=function(e){var t=e.title,n=e.name,r=e.placeholder,o=e.onBlur;return a.a.createElement("div",null,a.a.createElement("div",null,t),a.a.createElement("input",{name:n,type:"text",onBlur:o,placeholder:r}))},I=function e(t,n){Object(c.a)(this,e),this.frequentItemSets=t,this.associationRules=n},k=function e(t,n){Object(c.a)(this,e),this.itemSet=t,this.support=n},M=function e(t,n,r){Object(c.a)(this,e),this.lhs=t,this.rhs=n,this.confidence=r},R=function(){function e(t,n,r){Object(c.a)(this,e),this.minSupport=t?0===t?0:t:.15,this.minConfidence=n?0===n?0:n:.6,this.debugMode=r||!1}return Object(l.a)(e,[{key:"analyze",value:function(e){var t=this,n=(new Date).getTime(),r={},a={},o=t.toOneElementItemSets(e),i=t.findItemSetsMinSupportSatisfied(o,e,t.minSupport,r),c=1;t.debugMode&&console.log("Before finding item sets: "+t.getTime(n)+" ms");for(var l=function(e){return e.itemSet};0!==i.length;){a[c]=i;var u=C.toFixedSizeJoinedSets(i.map(l),c+1);i=t.findItemSetsMinSupportSatisfied(u,e,t.minSupport,r),c+=1}t.debugMode&&console.log("After finding item sets: "+t.getTime(n)+" ms");var s=function(e,t,n){var r=t[e.toString()];return r?r/n.length:0},f=[];t.debugMode&&console.log("Before calculating association rules: "+t.getTime(n)+" ms");var m,p=[],h=function(n){var a=C.getDiffArray(m,n);if(a.length>0){var o=s(m,r,e)/s(n,r,e);!isNaN(o)&&!function(e){var t=!1;return f.forEach(function(n){t||(t=n.toString()===e.toString())}),t}(n)&&o>=t.minConfidence&&(f.push(n),p.push(new M(n,a,o)))}},d=function(e){m=e,C.toAllSubSets(m).forEach(h)};for(var E in a){var S=a[E].map(l);0===S.length||S[0].length<=1||S.forEach(d)}t.debugMode&&console.log("After calculating association rules: "+t.getTime(n)+" ms");var g=new I(a,p);return t.debugMode&&(console.log("AnalysisResult: "+JSON.stringify(g)),console.log("Apriori.Algorithm's total spent time: "+t.getTime(n)+" ms")),g}},{key:"toOneElementItemSets",value:function(e){var t=[];return e.forEach(function(e){e.forEach(function(e){t.push(new Array(e))})}),C.toArraySet(t)}},{key:"findItemSetsMinSupportSatisfied",value:function(e,t,n,r){var a=[],o={};e.forEach(function(e){t.forEach(function(t){C.isSubSetArrayOf(e,t)&&(r[e.toString()]||(r[e.toString()]=0),o[e.toString()]||(o[e.toString()]=0),r[e.toString()]+=1,o[e.toString()]+=1)})});var i=!1,c=function(e){i||(i=e.itemSet.toString()===u.toString())};for(var l in o){var u=l.split(",").sort(),s=o[u.toString()]/t.length;s>=n&&(i=!1,a.forEach(c),i||a.push(new k(u,s)))}return a}},{key:"showAnalysisResultFromFile",value:function(e){var t=this;n(45).readFile(e,"utf8",function(e,n){if(e)throw e;var r=C.readCSVToArray(n,","),a=t.analyze(r);console.log(JSON.stringify(a.associationRules))})}},{key:"getTime",value:function(e){return(new Date).getTime()-e}}]),e}(),C=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"toStringSet",value:function(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}},{key:"toArraySet",value:function(e){var t={},n=[];return e.forEach(function(e){t.hasOwnProperty(e.toString())||(n.push(e),t[e.toString()]=!0)}),n}},{key:"toAllSubSets",value:function(t){var n=function t(n,r,a,o){if(0===n)a.length>0&&(o[o.length]=e.toStringSet(a));else for(var i=0;i<r.length;i++){t(n-1,r.slice(i+1),a.concat([r[i]]),o)}},r=[];t.sort();for(var a=1;a<t.length;a++)n(a,t,[],r);return r.push(t),e.toArraySet(r)}},{key:"toFixedSizeJoinedSets",value:function(t,n){var r=[];return t.forEach(function(a){t.forEach(function(t){if(e.getDiffArray(a,t).length>0){var o=[].concat(a).concat(t),i=e.toStringSet(o);i.length===n&&r.push(i)}})}),e.toArraySet(r)}},{key:"isSubSetArrayOf",value:function(e,t){var n=!0;return e.forEach(function(e){n&&-1===t.indexOf(e)&&(n=!1)}),n}},{key:"getDiffArray",value:function(e,t){var n=[];return e.forEach(function(e){-1===t.indexOf(e)&&n.push(e)}),n}}]),e}(),x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).renderRules=function(){var e=[];if(Object.values(n.props.rules).forEach(function(t){t.forEach(function(t){e.push(t)})}),e.length>0)return a.a.createElement("div",null,a.a.createElement(b,{rules:e}))},n.renderFreqItems=function(){var e=[];if(Object.values(n.props.freqItems).forEach(function(t){t.forEach(function(t){e.push(t)})}),e.length>0)return a.a.createElement("div",null,a.a.createElement(w,{items:e}))},n.handleInput=function(e){var t=e.target,r=t.name,a=t.value;switch(a="minSup"===r||"minCon"===r?a/100:a,r){case"minSup":n.props.setMinSup(a);break;case"minCon":n.props.setMinCon(a);break;case"numTrans":n.props.setNumTrans(a)}},n.handleClick=function(e){var t=n.props,r=t.minSup,a=t.minCon,o=t.transTable,i=new R(r,a).analyze(o),c=i.associationRules,l=i.frequentItemSets;n.props.setFreqItems(l),n.props.setRules(c)},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("h1",null,"Apiori Algorithm Calculator"),a.a.createElement(j,{name:"minSup",title:"Minimum support",onBlur:this.handleInput,placeholder:"20"}),a.a.createElement(j,{name:"minCon",title:"Minimum confidence",onBlur:this.handleInput,placeholder:"20"}),a.a.createElement(j,{name:"numTrans",title:"Number of transaction",onBlur:this.handleInput,placeholder:"5"}),a.a.createElement("p",null,"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e42\u0e14\u0e22\u0e40\u0e27\u0e49\u0e19\u0e27\u0e23\u0e23\u0e04\u0e23\u0e30\u0e2b\u0e27\u0e48\u0e32\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30 item \u0e40\u0e0a\u0e48\u0e19 A B C"),a.a.createElement(N,null),a.a.createElement("button",{className:"btn btn-primary",style:{marginBottom:"10px"},onClick:this.handleClick},"Calculate"),this.renderFreqItems(),this.renderRules())}}]),t}(r.Component),B=Object(m.b)(function(e){return e.App},d)(x),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var q=n(3),L=n(27),z=n(5),P={minCon:.2,minSup:.2,numTrans:5,transTable:[],freqItems:[],rules:{}},W=Object(q.c)({App:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_MIN_CON:return Object(z.a)({},e,{minCon:t.payload});case d.SET_MIN_SUP:return Object(z.a)({},e,{minSup:t.payload});case d.SET_NUM_TRANS:return Object(z.a)({},e,{numTrans:t.payload});case d.SET_TRANS_TABLE:return Object(z.a)({},e,{transTable:t.payload.transTable});case d.SET_FREQ_ITEMS:return Object(z.a)({},e,{freqItems:t.payload.freqItems});case d.SET_RULES:return Object(z.a)({},e,{rules:t.payload});default:return e}}}),J=Object(q.d)(W,Object(q.a)(L.a));i.a.render(a.a.createElement(m.a,{store:J},a.a.createElement(B,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-redux-apiori",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/react-redux-apiori","/service-worker.js");F?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):U(t,e)})}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.db7ea374.chunk.js.map